{"ast":null,"code":"var _jsxFileName = \"/Users/yash/Desktop/urban booking/frontend/src/pages/MyBookingsPage.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useQuery } from '@tanstack/react-query';\nimport { apiService } from '../services/api';\nimport { LoadingSpinner } from '../components/LoadingSpinner';\nimport { ErrorMessage } from '../components/ErrorMessage';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MyBookingsPage = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const {\n    data: bookings,\n    isLoading,\n    error\n  } = useQuery({\n    queryKey: ['my-bookings', user === null || user === void 0 ? void 0 : user.id],\n    queryFn: () => user ? apiService.getBookingsByCustomer(user.id) : Promise.resolve([]),\n    enabled: !!(user !== null && user !== void 0 && user.id),\n    staleTime: 2 * 60 * 1000\n  });\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        message: \"Please log in to view your bookings.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-6\",\n        children: \"My Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: \"lg\",\n        className: \"py-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        message: \"Failed to load bookings. Please try again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this) : bookings && bookings.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: bookings.map(booking => {\n          var _booking$slot, _booking$slot$provide, _booking$slot2, _booking$slot3;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card flex flex-col md:flex-row md:items-center md:justify-between p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold text-gray-900 mb-1\",\n                children: [((_booking$slot = booking.slot) === null || _booking$slot === void 0 ? void 0 : (_booking$slot$provide = _booking$slot.provider) === null || _booking$slot$provide === void 0 ? void 0 : _booking$slot$provide.name) || 'Provider', \" \\u2014 \", new Date(((_booking$slot2 = booking.slot) === null || _booking$slot2 === void 0 ? void 0 : _booking$slot2.start_time) || '').toLocaleDateString(), \" \", new Date(((_booking$slot3 = booking.slot) === null || _booking$slot3 === void 0 ? void 0 : _booking$slot3.start_time) || '').toLocaleTimeString([], {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"capitalize\",\n                  children: booking.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-primary mt-2 md:mt-0\",\n              onClick: () => navigate(`/booking/${booking.id}`),\n              children: \"Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this)]\n          }, booking.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8 text-gray-500\",\n        children: \"You have no bookings yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(MyBookingsPage, \"/2Yd9emRM15XPFcdqaztNY0Pxd8=\", false, function () {\n  return [useAuth, useNavigate, useQuery];\n});\n_c = MyBookingsPage;\nvar _c;\n$RefreshReg$(_c, \"MyBookingsPage\");","map":{"version":3,"names":["React","useAuth","useQuery","apiService","LoadingSpinner","ErrorMessage","useNavigate","jsxDEV","_jsxDEV","MyBookingsPage","_s","user","navigate","data","bookings","isLoading","error","queryKey","id","queryFn","getBookingsByCustomer","Promise","resolve","enabled","staleTime","className","children","message","fileName","_jsxFileName","lineNumber","columnNumber","size","length","map","booking","_booking$slot","_booking$slot$provide","_booking$slot2","_booking$slot3","slot","provider","name","Date","start_time","toLocaleDateString","toLocaleTimeString","hour","minute","status","onClick","_c","$RefreshReg$"],"sources":["/Users/yash/Desktop/urban booking/frontend/src/pages/MyBookingsPage.tsx"],"sourcesContent":["import React from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useQuery } from '@tanstack/react-query';\nimport { apiService } from '../services/api';\nimport { LoadingSpinner } from '../components/LoadingSpinner';\nimport { ErrorMessage } from '../components/ErrorMessage';\nimport { Booking } from '../types';\nimport { useNavigate } from 'react-router-dom';\n\nexport const MyBookingsPage: React.FC = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n\n  const { data: bookings, isLoading, error } = useQuery({\n    queryKey: ['my-bookings', user?.id],\n    queryFn: () => user ? apiService.getBookingsByCustomer(user.id) : Promise.resolve([]),\n    enabled: !!user?.id,\n    staleTime: 2 * 60 * 1000,\n  });\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <ErrorMessage message=\"Please log in to view your bookings.\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-6\">My Bookings</h1>\n        {isLoading ? (\n          <LoadingSpinner size=\"lg\" className=\"py-8\" />\n        ) : error ? (\n          <ErrorMessage message=\"Failed to load bookings. Please try again.\" />\n        ) : bookings && bookings.length > 0 ? (\n          <div className=\"space-y-4\">\n            {bookings.map((booking: Booking) => (\n              <div key={booking.id} className=\"card flex flex-col md:flex-row md:items-center md:justify-between p-4\">\n                <div>\n                  <div className=\"font-semibold text-gray-900 mb-1\">\n                    {booking.slot?.provider?.name || 'Provider'} â€” {new Date(booking.slot?.start_time || '').toLocaleDateString()} {new Date(booking.slot?.start_time || '').toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                  </div>\n                  <div className=\"text-sm text-gray-600\">\n                    Status: <span className=\"capitalize\">{booking.status}</span>\n                  </div>\n                </div>\n                <button\n                  className=\"btn-primary mt-2 md:mt-0\"\n                  onClick={() => navigate(`/booking/${booking.id}`)}\n                >\n                  Review\n                </button>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-8 text-gray-500\">\n            You have no bookings yet.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}