{"ast":null,"code":"import axios from 'axios';\nclass ApiService {\n  constructor() {\n    this.api = void 0;\n    this.isDevelopment = process.env.NODE_ENV === 'development';\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_URL || 'http://localhost:3001',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      timeout: 10000\n    });\n\n    // Add auth token to requests if available\n    this.api.interceptors.request.use(config => {\n      const token = localStorage.getItem('authToken');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    });\n\n    // Request interceptor for logging (development only)\n    if (this.isDevelopment) {\n      this.api.interceptors.request.use(config => {\n        var _config$method;\n        console.log(`üöÄ API Request: ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`);\n        return config;\n      }, error => {\n        console.error('‚ùå API Request Error:', error);\n        return Promise.reject(error);\n      });\n\n      // Response interceptor for logging (development only)\n      this.api.interceptors.response.use(response => {\n        console.log(`‚úÖ API Response: ${response.status} ${response.config.url}`);\n        return response;\n      }, error => {\n        var _error$response, _error$response2;\n        console.error('‚ùå API Response Error:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status, (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n        return Promise.reject(error);\n      });\n    }\n  }\n\n  // Slots API\n  async getAvailableSlots(params) {\n    const response = await this.api.get('/api/slots', {\n      params\n    });\n    return response.data;\n  }\n  async getAllSlotsForProviderAndDate(date, providerId) {\n    const response = await this.api.get('/api/slots/all', {\n      params: {\n        date,\n        providerId\n      }\n    });\n    return response.data;\n  }\n\n  // Bookings API\n  async createBooking(bookingData) {\n    const response = await this.api.post('/api/bookings', bookingData);\n    return response.data;\n  }\n  async getBooking(id) {\n    const response = await this.api.get(`/api/bookings/${id}`);\n    return response.data;\n  }\n  async updateBooking(id, updateData) {\n    const response = await this.api.put(`/api/bookings/${id}`, updateData);\n    return response.data;\n  }\n  async cancelBooking(id) {\n    const response = await this.api.delete(`/api/bookings/${id}`);\n    return response.data;\n  }\n  async getProviders() {\n    const response = await this.api.get('/api/providers');\n    return response.data;\n  }\n  async getBookingsByCustomer(customerId) {\n    const response = await this.api.get(`/api/bookings/customer/${customerId}`);\n    return response.data;\n  }\n}\nexport const apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["axios","ApiService","constructor","api","isDevelopment","process","env","NODE_ENV","create","baseURL","REACT_APP_API_URL","headers","timeout","interceptors","request","use","config","token","localStorage","getItem","Authorization","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","status","_error$response","_error$response2","data","getAvailableSlots","params","get","getAllSlotsForProviderAndDate","date","providerId","createBooking","bookingData","post","getBooking","id","updateBooking","updateData","put","cancelBooking","delete","getProviders","getBookingsByCustomer","customerId","apiService"],"sources":["/Users/yash/Desktop/urban booking/frontend/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosResponse } from 'axios';\nimport { \n  Slot, \n  Booking, \n  CreateBookingRequest, \n  UpdateBookingRequest, \n  GetSlotsParams,\n  ApiResponse,\n  User\n} from '../types';\n\nclass ApiService {\n  private api: AxiosInstance;\n  private isDevelopment = process.env.NODE_ENV === 'development';\n\n  constructor() {\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_API_URL || 'http://localhost:3001',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      timeout: 10000,\n    });\n\n    // Add auth token to requests if available\n    this.api.interceptors.request.use((config) => {\n      const token = localStorage.getItem('authToken');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    });\n\n    // Request interceptor for logging (development only)\n    if (this.isDevelopment) {\n      this.api.interceptors.request.use(\n        (config) => {\n          console.log(`üöÄ API Request: ${config.method?.toUpperCase()} ${config.url}`);\n          return config;\n        },\n        (error) => {\n          console.error('‚ùå API Request Error:', error);\n          return Promise.reject(error);\n        }\n      );\n\n      // Response interceptor for logging (development only)\n      this.api.interceptors.response.use(\n        (response: AxiosResponse) => {\n          console.log(`‚úÖ API Response: ${response.status} ${response.config.url}`);\n          return response;\n        },\n        (error) => {\n          console.error('‚ùå API Response Error:', error.response?.status, error.response?.data);\n          return Promise.reject(error);\n        }\n      );\n    }\n  }\n\n  // Slots API\n  async getAvailableSlots(params?: GetSlotsParams & { limit?: number; offset?: number }): Promise<Slot[]> {\n    const response = await this.api.get<Slot[]>('/api/slots', { params });\n    return response.data;\n  }\n\n  async getAllSlotsForProviderAndDate(date: string, providerId: string): Promise<Slot[]> {\n    const response = await this.api.get<Slot[]>('/api/slots/all', { params: { date, providerId } });\n    return response.data;\n  }\n\n  // Bookings API\n  async createBooking(bookingData: CreateBookingRequest): Promise<Booking> {\n    const response = await this.api.post<Booking>('/api/bookings', bookingData);\n    return response.data;\n  }\n\n  async getBooking(id: string): Promise<Booking> {\n    const response = await this.api.get<Booking>(`/api/bookings/${id}`);\n    return response.data;\n  }\n\n  async updateBooking(id: string, updateData: UpdateBookingRequest): Promise<Booking> {\n    const response = await this.api.put<Booking>(`/api/bookings/${id}`, updateData);\n    return response.data;\n  }\n\n  async cancelBooking(id: string): Promise<Booking> {\n    const response = await this.api.delete<Booking>(`/api/bookings/${id}`);\n    return response.data;\n  }\n\n  async getProviders(): Promise<User[]> {\n    const response = await this.api.get<User[]>('/api/providers');\n    return response.data;\n  }\n\n  async getBookingsByCustomer(customerId: string): Promise<Booking[]> {\n    const response = await this.api.get<Booking[]>(`/api/bookings/customer/${customerId}`);\n    return response.data;\n  }\n}\n\nexport const apiService = new ApiService();\nexport default apiService; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}