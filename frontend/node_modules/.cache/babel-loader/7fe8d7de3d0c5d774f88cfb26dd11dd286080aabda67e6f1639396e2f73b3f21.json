{"ast":null,"code":"import React,{useState,useCallback}from'react';import{useNavigate}from'react-router-dom';import{useProviders,useAllSlotsForProviderAndDate}from'../hooks/useBookings';import{useMutation}from'@tanstack/react-query';import{apiService}from'../services/api';import{useAuth}from'../contexts/AuthContext';import{LoadingSpinner}from'../components/LoadingSpinner';import{ErrorMessage}from'../components/ErrorMessage';import{Modal}from'../components/Modal';import{SuccessAnimation}from'../components/SuccessAnimation';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const SlotBookingPage=()=>{var _providers$find,_providers$find2,_providers$find3,_providers$find4;const navigate=useNavigate();const{user,logout}=useAuth();const[selectedDate,setSelectedDate]=useState(new Date().toISOString().split('T')[0]);const[selectedSlot,setSelectedSlot]=useState(null);const[createdBooking,setCreatedBooking]=useState(null);const[page,setPage]=useState(0);const limit=6;const[selectedProvider,setSelectedProvider]=useState(null);const[isModalOpen,setIsModalOpen]=useState(false);// Fetch all providers\nconst{data:providers,isLoading:providersLoading,error:providersError}=useProviders();// Fetch all slots (including booked/unavailable) for modal\nconst{data:slots,isLoading:slotsLoading,error:slotsError,refetch:refetchSlots}=useAllSlotsForProviderAndDate(selectedDate,selectedProvider||'',!!selectedProvider);// Create booking mutation using useMutation directly\nconst{mutate:createBooking,isPending:isCreating,error:bookingError,isSuccess:bookingSuccess}=useMutation({mutationFn:bookingData=>apiService.createBooking(bookingData),onSuccess:booking=>{setCreatedBooking(booking);}});// Handle slot selection\nconst handleSlotSelect=useCallback(slot=>{setSelectedSlot(slot);},[]);// Handle booking submission\nconst handleBookingSubmit=useCallback(e=>{e.preventDefault();if(!selectedSlot||!(user!==null&&user!==void 0&&user.id)){return;}createBooking({slotId:selectedSlot.id,customerId:user.id});},[selectedSlot,user===null||user===void 0?void 0:user.id,createBooking]);// Handle date change\nconst handleDateChange=useCallback(e=>{setSelectedDate(e.target.value);setSelectedSlot(null);// Reset selection when date changes\n},[]);// Format time for display\nconst formatTime=dateString=>{return new Date(dateString).toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true});};// Handle successful booking\nReact.useEffect(()=>{if(bookingSuccess&&createdBooking){// Navigate to review page after a short delay\nconst timer=setTimeout(()=>{navigate(`/booking/${createdBooking.id}`);},2000);return()=>clearTimeout(timer);}},[bookingSuccess,createdBooking,navigate]);// Redirect to login if not authenticated\nif(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Please log in to book slots\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/login'),className:\"btn-primary\",children:\"Go to Login\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Book Your Slot\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-1\",children:[\"Welcome back, \",user.name,\"!\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:user.email}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/my-bookings'),className:\"btn-primary text-sm\",children:\"See My Bookings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"btn-secondary text-sm\",children:\"Logout\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date\",value:selectedDate,onChange:handleDateChange,min:new Date().toISOString().split('T')[0],className:\"input max-w-xs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Select a Provider\"}),providersLoading?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\",className:\"py-8\"}):providersError?/*#__PURE__*/_jsx(ErrorMessage,{message:\"Failed to load providers. Please try again.\",className:\"mb-6\"}):providers&&providers.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:providers.map(provider=>/*#__PURE__*/_jsxs(\"div\",{className:`p-4 border rounded-lg flex flex-col items-center justify-center transition-colors ${selectedProvider===provider.id?'border-primary-500 bg-primary-50':'border-gray-200 hover:border-primary-300'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center text-2xl font-bold text-primary-700 mb-2\",children:provider.name.charAt(0)}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:provider.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-2\",children:provider.email}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary mt-2\",onClick:()=>{setSelectedProvider(provider.id);setPage(0);setIsModalOpen(true);},children:\"View Slots\"})]},provider.id))}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"No providers found.\"})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:isModalOpen,onClose:()=>{setIsModalOpen(false);setSelectedProvider(null);setSelectedSlot(null);setPage(0);},title:selectedProvider?`Book with ${providers===null||providers===void 0?void 0:(_providers$find=providers.find(p=>p.id===selectedProvider))===null||_providers$find===void 0?void 0:_providers$find.name}`:'',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"modal-date\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"modal-date\",value:selectedDate,onChange:handleDateChange,min:new Date().toISOString().split('T')[0],className:\"input max-w-xs\"})]}),selectedProvider&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center text-xl font-bold text-primary-700\",children:providers===null||providers===void 0?void 0:(_providers$find2=providers.find(p=>p.id===selectedProvider))===null||_providers$find2===void 0?void 0:_providers$find2.name.charAt(0)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:providers===null||providers===void 0?void 0:(_providers$find3=providers.find(p=>p.id===selectedProvider))===null||_providers$find3===void 0?void 0:_providers$find3.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:providers===null||providers===void 0?void 0:(_providers$find4=providers.find(p=>p.id===selectedProvider))===null||_providers$find4===void 0?void 0:_providers$find4.email})]})]}),slotsError&&selectedProvider&&/*#__PURE__*/_jsx(ErrorMessage,{message:\"Failed to load available slots. Please try again.\",className:\"mb-6\"}),bookingError&&selectedProvider&&((_err$response,_err$response$data)=>{const err=bookingError;let msg='Failed to create booking. Please try again.';if(typeof err==='string')msg=err;else if(err!==null&&err!==void 0&&(_err$response=err.response)!==null&&_err$response!==void 0&&(_err$response$data=_err$response.data)!==null&&_err$response$data!==void 0&&_err$response$data.message)msg=err.response.data.message;return/*#__PURE__*/_jsx(ErrorMessage,{message:msg,className:\"mb-6\"});})(),bookingSuccess&&selectedProvider&&/*#__PURE__*/_jsx(SuccessAnimation,{message:\"Booking created successfully! Redirecting to review page...\"}),selectedProvider&&!bookingSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:[\"All Slots on \",new Date(selectedDate).toLocaleDateString()]}),slotsLoading?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\",className:\"py-8\"}):slots&&slots.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:slots.map(slot=>/*#__PURE__*/_jsx(\"div\",{className:`p-4 border rounded-lg transition-colors flex flex-col items-center justify-center ${slot.is_available?(selectedSlot===null||selectedSlot===void 0?void 0:selectedSlot.id)===slot.id?'border-primary-500 bg-primary-50 cursor-pointer':'border-gray-200 hover:border-primary-300 cursor-pointer':'border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed opacity-60'}`,onClick:()=>slot.is_available&&handleSlotSelect(slot),tabIndex:slot.is_available?0:-1,\"aria-disabled\":!slot.is_available,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-medium\",children:formatTime(slot.start_time)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[\"to \",formatTime(slot.end_time)]}),!slot.is_available&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-xs font-semibold text-danger-600\",children:\"Booked\"})]})},slot.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-4 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setPage(p=>Math.max(0,p-1)),disabled:page===0,children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setPage(p=>p+1),disabled:!slots||slots.length<limit,children:\"Next\"})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"No slots for the selected date.\"})]}),selectedSlot&&!bookingSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Complete Your Booking\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleBookingSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:\"Selected Slot:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[formatTime(selectedSlot.start_time),\" - \",formatTime(selectedSlot.end_time)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-blue-900 mb-2\",children:\"Booking as:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700\",children:[user.name,\" (\",user.email,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isCreating,className:\"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed\",children:isCreating?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\",className:\"mr-2\"}),\"Creating Booking...\"]}):'Confirm Booking'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setSelectedSlot(null),className:\"btn-secondary\",children:\"Change Slot\"})]})]})]})]})]})]});};","map":{"version":3,"names":["React","useState","useCallback","useNavigate","useProviders","useAllSlotsForProviderAndDate","useMutation","apiService","useAuth","LoadingSpinner","ErrorMessage","Modal","SuccessAnimation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SlotBookingPage","_providers$find","_providers$find2","_providers$find3","_providers$find4","navigate","user","logout","selectedDate","setSelectedDate","Date","toISOString","split","selectedSlot","setSelectedSlot","createdBooking","setCreatedBooking","page","setPage","limit","selectedProvider","setSelectedProvider","isModalOpen","setIsModalOpen","data","providers","isLoading","providersLoading","error","providersError","slots","slotsLoading","slotsError","refetch","refetchSlots","mutate","createBooking","isPending","isCreating","bookingError","isSuccess","bookingSuccess","mutationFn","bookingData","onSuccess","booking","handleSlotSelect","slot","handleBookingSubmit","e","preventDefault","id","slotId","customerId","handleDateChange","target","value","formatTime","dateString","toLocaleTimeString","hour","minute","hour12","useEffect","timer","setTimeout","clearTimeout","className","children","onClick","name","email","htmlFor","type","onChange","min","size","message","length","map","provider","charAt","isOpen","onClose","title","find","p","_err$response","_err$response$data","err","msg","response","toLocaleDateString","is_available","tabIndex","start_time","end_time","Math","max","disabled","onSubmit"],"sources":["/Users/yash/Desktop/urban booking/frontend/src/pages/SlotBookingPage.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAvailableSlots, useProviders, useAllSlotsForProviderAndDate } from '../hooks/useBookings';\nimport { useMutation, UseMutationResult } from '@tanstack/react-query';\nimport { CreateBookingRequest, Slot } from '../types';\nimport { apiService } from '../services/api';\nimport { useAuth } from '../contexts/AuthContext';\nimport { LoadingSpinner } from '../components/LoadingSpinner';\nimport { ErrorMessage } from '../components/ErrorMessage';\nimport { SuccessMessage } from '../components/SuccessMessage';\nimport { Modal } from '../components/Modal';\nimport { SuccessAnimation } from '../components/SuccessAnimation';\n\nexport const SlotBookingPage: React.FC = () => {\n  const navigate = useNavigate();\n  const { user, logout } = useAuth();\n  const [selectedDate, setSelectedDate] = useState<string>(\n    new Date().toISOString().split('T')[0]\n  );\n  const [selectedSlot, setSelectedSlot] = useState<Slot | null>(null);\n  const [createdBooking, setCreatedBooking] = useState<any>(null);\n  const [page, setPage] = useState(0);\n  const limit = 6;\n  const [selectedProvider, setSelectedProvider] = useState<string | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  // Fetch all providers\n  const { data: providers, isLoading: providersLoading, error: providersError } = useProviders();\n\n  // Fetch all slots (including booked/unavailable) for modal\n  const {\n    data: slots,\n    isLoading: slotsLoading,\n    error: slotsError,\n    refetch: refetchSlots\n  } = useAllSlotsForProviderAndDate(selectedDate, selectedProvider || '', !!selectedProvider);\n\n  // Create booking mutation using useMutation directly\n  const {\n    mutate: createBooking,\n    isPending: isCreating,\n    error: bookingError,\n    isSuccess: bookingSuccess\n  }: UseMutationResult<any, unknown, CreateBookingRequest> = useMutation({\n    mutationFn: (bookingData: CreateBookingRequest) => apiService.createBooking(bookingData),\n    onSuccess: (booking) => {\n      setCreatedBooking(booking);\n    }\n  });\n\n  // Handle slot selection\n  const handleSlotSelect = useCallback((slot: Slot) => {\n    setSelectedSlot(slot);\n  }, []);\n\n  // Handle booking submission\n  const handleBookingSubmit = useCallback((e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!selectedSlot || !user?.id) {\n      return;\n    }\n\n    createBooking({\n      slotId: selectedSlot.id,\n      customerId: user.id\n    });\n  }, [selectedSlot, user?.id, createBooking]);\n\n  // Handle date change\n  const handleDateChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setSelectedDate(e.target.value);\n    setSelectedSlot(null); // Reset selection when date changes\n  }, []);\n\n  // Format time for display\n  const formatTime = (dateString: string) => {\n    return new Date(dateString).toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n\n  // Handle successful booking\n  React.useEffect(() => {\n    if (bookingSuccess && createdBooking) {\n      // Navigate to review page after a short delay\n      const timer = setTimeout(() => {\n        navigate(`/booking/${createdBooking.id}`);\n      }, 2000);\n      return () => clearTimeout(timer);\n    }\n  }, [bookingSuccess, createdBooking, navigate]);\n\n  // Redirect to login if not authenticated\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n            Please log in to book slots\n          </h2>\n          <button\n            onClick={() => navigate('/login')}\n            className=\"btn-primary\"\n          >\n            Go to Login\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      {/* Header with user info and My Bookings button */}\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mb-8\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">\n              Book Your Slot\n            </h1>\n            <p className=\"text-gray-600 mt-1\">\n              Welcome back, {user.name}!\n            </p>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <span className=\"text-sm text-gray-600\">\n              {user.email}\n            </span>\n            <button\n              onClick={() => navigate('/my-bookings')}\n              className=\"btn-primary text-sm\"\n            >\n              See My Bookings\n            </button>\n            <button\n              onClick={logout}\n              className=\"btn-secondary text-sm\"\n            >\n              Logout\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Date Selection */}\n        <div className=\"card mb-6\">\n          <label htmlFor=\"date\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Select Date\n          </label>\n          <input\n            type=\"date\"\n            id=\"date\"\n            value={selectedDate}\n            onChange={handleDateChange}\n            min={new Date().toISOString().split('T')[0]}\n            className=\"input max-w-xs\"\n          />\n        </div>\n\n        {/* Providers List */}\n        <div className=\"card mb-6\">\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Select a Provider</h2>\n          {providersLoading ? (\n            <LoadingSpinner size=\"lg\" className=\"py-8\" />\n          ) : providersError ? (\n            <ErrorMessage message=\"Failed to load providers. Please try again.\" className=\"mb-6\" />\n          ) : providers && providers.length > 0 ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {providers.map((provider) => (\n                <div\n                  key={provider.id}\n                  className={`p-4 border rounded-lg flex flex-col items-center justify-center transition-colors ${\n                    selectedProvider === provider.id\n                      ? 'border-primary-500 bg-primary-50'\n                      : 'border-gray-200 hover:border-primary-300'\n                  }`}\n                >\n                  <div className=\"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center text-2xl font-bold text-primary-700 mb-2\">\n                    {provider.name.charAt(0)}\n                  </div>\n                  <div className=\"font-medium text-gray-900\">{provider.name}</div>\n                  <div className=\"text-sm text-gray-600 mb-2\">{provider.email}</div>\n                  <button\n                    className=\"btn-primary mt-2\"\n                    onClick={() => {\n                      setSelectedProvider(provider.id);\n                      setPage(0);\n                      setIsModalOpen(true);\n                    }}\n                  >\n                    View Slots\n                  </button>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8 text-gray-500\">\n              No providers found.\n            </div>\n          )}\n        </div>\n\n        {/* Slot Selection Modal */}\n        <Modal\n          isOpen={isModalOpen}\n          onClose={() => {\n            setIsModalOpen(false);\n            setSelectedProvider(null);\n            setSelectedSlot(null);\n            setPage(0);\n          }}\n          title={selectedProvider ? `Book with ${providers?.find(p => p.id === selectedProvider)?.name}` : ''}\n        >\n          {/* Date Picker in Modal */}\n          <div className=\"mb-4\">\n            <label htmlFor=\"modal-date\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Select Date\n            </label>\n            <input\n              type=\"date\"\n              id=\"modal-date\"\n              value={selectedDate}\n              onChange={handleDateChange}\n              min={new Date().toISOString().split('T')[0]}\n              className=\"input max-w-xs\"\n            />\n          </div>\n\n          {/* Provider Info */}\n          {selectedProvider && (\n            <div className=\"flex items-center gap-4 mb-4\">\n              <div className=\"w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center text-xl font-bold text-primary-700\">\n                {providers?.find(p => p.id === selectedProvider)?.name.charAt(0)}\n              </div>\n              <div>\n                <div className=\"font-medium text-gray-900\">{providers?.find(p => p.id === selectedProvider)?.name}</div>\n                <div className=\"text-sm text-gray-600\">{providers?.find(p => p.id === selectedProvider)?.email}</div>\n              </div>\n            </div>\n          )}\n\n          {/* Error Messages */}\n          {(slotsError as any) && selectedProvider && (\n            <ErrorMessage \n              message=\"Failed to load available slots. Please try again.\" \n              className=\"mb-6\"\n            />\n          )}\n\n          {bookingError && selectedProvider && (\n            (() => {\n              const err = bookingError as any;\n              let msg = 'Failed to create booking. Please try again.';\n              if (typeof err === 'string') msg = err;\n              else if (err?.response?.data?.message) msg = err.response.data.message;\n              return <ErrorMessage message={msg} className=\"mb-6\" />;\n            })()\n          )}\n\n          {/* Success Animation */}\n          {bookingSuccess && selectedProvider && (\n            <SuccessAnimation message=\"Booking created successfully! Redirecting to review page...\" />\n          )}\n\n          {/* All Slots for Selected Provider (including booked) */}\n          {selectedProvider && !bookingSuccess && (\n            <div className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n                All Slots on {new Date(selectedDate).toLocaleDateString()}\n              </h3>\n              {slotsLoading ? (\n                <LoadingSpinner size=\"lg\" className=\"py-8\" />\n              ) : slots && slots.length > 0 ? (\n                <>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {slots.map((slot) => (\n                      <div\n                        key={slot.id}\n                        className={`p-4 border rounded-lg transition-colors flex flex-col items-center justify-center ${\n                          slot.is_available\n                            ? (selectedSlot?.id === slot.id\n                                ? 'border-primary-500 bg-primary-50 cursor-pointer'\n                                : 'border-gray-200 hover:border-primary-300 cursor-pointer')\n                            : 'border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed opacity-60'\n                        }`}\n                        onClick={() => slot.is_available && handleSlotSelect(slot)}\n                        tabIndex={slot.is_available ? 0 : -1}\n                        aria-disabled={!slot.is_available}\n                      >\n                        <div className=\"text-center\">\n                          <div className=\"text-lg font-medium\">\n                            {formatTime(slot.start_time)}\n                          </div>\n                          <div className=\"text-sm\">\n                            to {formatTime(slot.end_time)}\n                          </div>\n                          {!slot.is_available && (\n                            <div className=\"mt-2 text-xs font-semibold text-danger-600\">Booked</div>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"flex justify-center gap-4 mt-4\">\n                    <button\n                      className=\"btn-secondary\"\n                      onClick={() => setPage((p) => Math.max(0, p - 1))}\n                      disabled={page === 0}\n                    >\n                      Previous\n                    </button>\n                    <button\n                      className=\"btn-secondary\"\n                      onClick={() => setPage((p) => p + 1)}\n                      disabled={!slots || slots.length < limit}\n                    >\n                      Next\n                    </button>\n                  </div>\n                </>\n              ) : (\n                <div className=\"text-center py-8 text-gray-500\">\n                  No slots for the selected date.\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Booking Form */}\n          {selectedSlot && !bookingSuccess && (\n            <div className=\"card\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n                Complete Your Booking\n              </h2>\n              <form onSubmit={handleBookingSubmit} className=\"space-y-4\">\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <h3 className=\"font-medium text-gray-900 mb-2\">Selected Slot:</h3>\n                  <p className=\"text-gray-600\">\n                    {formatTime(selectedSlot.start_time)} - {formatTime(selectedSlot.end_time)}\n                  </p>\n                </div>\n                <div className=\"bg-blue-50 p-4 rounded-lg\">\n                  <h3 className=\"font-medium text-blue-900 mb-2\">Booking as:</h3>\n                  <p className=\"text-blue-700\">\n                    {user.name} ({user.email})\n                  </p>\n                </div>\n                <div className=\"flex gap-4\">\n                  <button\n                    type=\"submit\"\n                    disabled={isCreating}\n                    className=\"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {isCreating ? (\n                      <div className=\"flex items-center justify-center\">\n                        <LoadingSpinner size=\"sm\" className=\"mr-2\" />\n                        Creating Booking...\n                      </div>\n                    ) : (\n                      'Confirm Booking'\n                    )}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setSelectedSlot(null)}\n                    className=\"btn-secondary\"\n                  >\n                    Change Slot\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n        </Modal>\n      </div>\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}